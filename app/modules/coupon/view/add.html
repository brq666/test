<script type="text/javascript" src="controller/add.js"></script>
<div class="maincontainerB" ng-controller="ticketsAddCtrl" ng-cloak="">
  <form id="ticketForm" class="maincontainer" novalidate="novalidate">
    <h2 class="heading">{{title}}</h2>
    <div class="bg">
      <ul class="ticketsInfoBox">
        <li> <label><font color="red">*</font>&nbsp;优惠券名称：</label> <input class="borderHighlight" maxlength="50" type="text" required="" name="couponName" value="{{ticket.couponName}}" /> </li>
        <!--
          <li>
            <label><font color="red">*</font>&nbsp;优惠券通道：</label>
            <select class="borderHighlight" ng-disabled="isModify" required name="couponType">
              <option value="">{{ticket.couponType}}</option>
              <option ng-repeat="c in couponChannels" value="{{c.channelType}}">{{c.channelName}}</option>
            </select>
          </li>
          -->
        <li> <label><font color="red">*</font>&nbsp;优惠券面额：</label> <select class="borderHighlight" ng-disabled="isModify" required="" name="denominationValue"> <option value="{{ticket.denomination.denominationValue}}">{{ticket.denomination.denominationName}}</option> <option ng-repeat="price in prices" value="{{price.denominationValue}}">{{price.denominationName}}</option> </select> </li>
        <li class="clearfix"> <label class="fl">使用该券需满消费：</label> <input placeholder="不填表示不限" ng-disabled="isModify" type="text" maxlength="6" name="threshold" class="fl digits borderHighlight" value="{{ticket.threshold}}" style="margin-left:13px;" /><span class="fl" style="line-height:25px;margin-left:4px;">元</span> <p style="display:none;margin-left:64px;"> <label><font color="red">*</font>&nbsp;店铺：</label> <select class="borderHighlight" ng-disabled="isModify" name="shopId"> <option value="{{ticket.shop.shopId}}">{{ticket.shop.shopName}}</option> <option ng-repeat="shop in shops" value="{{shop.shopId}}">{{shop.shopName}}</option> </select> </p> </li>
        <li> <label><font color="red">*</font>&nbsp;生效时间：</label> <input ng-disabled="isModify" class="datepicker borderHighlight" type="text" readonly="readonly" name="startTime" id="startTime" value="{{ticket.startTime}}" required="" /> </li>
        <li> <label><font color="red">*</font>&nbsp;截止时间：</label> <input ng-disabled="isModify" type="text" readonly="readonly" class="datepicker borderHighlight" name="endTime" id="endTime" value="{{ticket.endTime}}" required="" /> </li>
        <li> <label>备注：</label> <textarea class="markMessage borderHighlight" name="remark" maxlength="512">{{ticket.remark}}</textarea> </li>
      </ul>
    </div>
    <div class="mb" style="padding:15px 0 0 130px;">
      <!--
       <button id="couponSure" class="btn btnBlue" ng-click="clickSureCoupon()">确定</button>
       <button id="couponCancel" class="btn" ng-click="clickConcelCoupon()">取消</button>
       -->
      <button class="btn btnBlue" type="submit">确定</button>
      <a class="btn" href="#/view/tickets">取消</a>
    </div>
  </form>
  <!--弹框start-->
  <div id="couponPop" class="msgPopBox ui-draggable clearfix" style="display:none;">
    <div class="fl imgMark">
      <img src="/images/leftMark.jpg" width="140" height="185" />
    </div>
    <div class="fl">
      <p class="failMark" id="failMark" style="display:none;"></p>
      <p style="margin-top:15px;">创建优惠券需要店铺主账号的授权。</p>
      <div class="cc_btn clearfix">
        <a id="getSessionKey" class="linkTaobaoBtn fl" target="_blank" ng-href="{{grandUrl}}">立即授权</a>
        <a id="sureSessionKey" style="display:none;" class="linkTaobaoBtn fl" href="javascript:void(0);">确定授权</a>
        <span class="timeLoseMark fl">授权后30分钟内可以免授权创券，超出30分钟后需要重新授权。</span>
      </div>
    </div>
  </div>
</div>
<nscript get-root="" _src="scripts/coupon/add.js"></nscript>